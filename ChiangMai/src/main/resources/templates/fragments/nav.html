<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<style type="text/css">
    li.on{color:red}
</style>

<th:block th:fragment="main" role="navigation">
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="/#page-top">ChiangMai</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="/shops">Map</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="/#contact">Contact</a>
                    </li>
                    <th:block sec:authorize="isAnonymous()">
                        <li class="nav-item">
                            <a class="nav-link js-scroll-trigger" href="/session">Login</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link js-scroll-trigger" href="/members">SignUp</a>
                        </li>
                    </th:block>
                    <th:block sec:authorize="isAuthenticated()">
                        <li class="nav-item">
                            <a class="nav-link js-scroll-trigger" href="/logout">Logout</a>
                        </li>
                        <li class="nav-item">
                            <div sec:authorize="hasRole('USER')">User</div>
                            <div sec:authorize="hasRole('ADMIN')">Admin</div>
                        </li>
                    </th:block>
                </ul>
            </div>
        </div>
    </nav>
</th:block>

<script type="text/javascript">
    $(function () {
        $('ul.navbar-nav li').click(function () {
            $('ul.navbar-nav li').removeClass()
            $(this).addClass('on')
        })
    })
</script>

<!--<div sec:authorize="isAuthenticated()">-->
<!--<div sec:authentication="name"></div>-->
<!--<div sec:authentication="principal"></div>-->
<!--<div sec:authorize="hasRole('USER')">Text visible to user.</div>-->
<!--<div sec:authorize="hasRole('ADMIN')">Text visible to admin.</div>-->
<!--<a href="/logout">로그아웃</a>-->
<!--</div>-->
<!--<a href="/shops/edit">shop 등록</a>-->
<!--<a href="/shops">list</a>-->
<!--<a href="/members/login?failure=true&email=">등록</a>-->


</html>